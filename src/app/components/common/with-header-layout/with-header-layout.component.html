<header 
  class="relative top-0 left-0 w-full bg-[#191919] text-white font-['Manrope'] 
         flex items-center justify-between px-8 py-4 border-b border-[#e5e8eb] z-[9999]">

  <!-- Left Section -->
  <div class="flex items-center gap-6">
    <!-- Logo -->
    <div class="flex items-center gap-2">
      <img src="../../../assets/imgs/logo.svg" alt="Logo" class="h-6 w-6" />
      <span class="font-bold text-lg tracking-tight cursor-pointer" routerLink="/home">
        Investment Tracker
      </span>
    </div>

    <!-- Desktop Menu -->
    <div class="hidden md:flex items-center gap-6 text-sm font-medium">
      <span class="cursor-pointer hover:bg-white/10 p-1.5 rounded-[8px] transition duration-300 ease-in-out hover:scale-105 active:scale-95" routerLink="/dashboard"
        (click)="closeMenuAfterNavigation()">Investments</span>
      <span class="cursor-pointer hover:bg-white/10 p-1.5 rounded-[8px] transition duration-300 ease-in-out hover:scale-105 active:scale-95" routerLink="/tax"
        (click)="closeMenuAfterNavigation()">Tax Filing</span>
      <span class="cursor-pointer hover:bg-white/10 p-1.5 rounded-[8px] transition duration-300 ease-in-out hover:scale-105 active:scale-95" routerLink="/support"
        (click)="closeMenuAfterNavigation()">Support</span>
    </div>
  </div>

  <!-- Right Section -->
  <div class="flex items-center gap-6 relative">
    <img class="h-8 w-8 cursor-pointer" alt="Notifications" src="../../../assets/imgs/notificationIcon.svg" />

    <!-- Profile Dropdown -->
    <div class="relative group">
      <!-- Profile Icon -->
      <img class="h-10 w-10 rounded-full object-cover cursor-pointer ring-2 ring-transparent 
                 group-hover:ring-[#757575] transition"
        alt="Profile" src="../../../assets/imgs/profilepic.svg" />

      <!-- Dropdown -->
      <div
        class="absolute right-0 mt-2 w-48 bg-[#191919] text-white rounded-md shadow-lg py-2 z-50 
               opacity-0 scale-95 transform transition-all duration-200 origin-top-right 
               group-hover:opacity-100 group-hover:scale-100">

        <!-- Arrow above dropdown -->
        <div class="absolute -top-2 right-6 w-4 h-4 bg-[#191919] transform rotate-45"></div>

        <!-- Dropdown Items -->
        <ng-container *ngFor="let item of dropdownItems">
          <span
            class="group/item flex items-center justify-between px-4 py-2 text-sm cursor-pointer 
                   rounded transition-all duration-200"
            routerLink="{{ item.link }}"
            [ngClass]="{
              'bg-[#2a2a2a] font-medium': isActive(item.link),
              'hover:bg-[#2a2a2a]': !isActive(item.link)
            }">

            <!-- Text -->
            <span
              class="transition-all duration-200"
              [ngClass]="{
                'translate-x-2': isActive(item.link), 
                'group-hover/item:translate-x-2': !isActive(item.link)
              }">
              {{ item.label }}
            </span>

            <!-- Arrow -->
            <span
              class="transition-all duration-200 opacity-0 group-hover/item:opacity-100"
              [ngClass]="{ 'opacity-100': isActive(item.link) }">
              →
            </span>
          </span>
        </ng-container>

        <!-- Auth Options -->
        <span *ngIf="isLoggedIn"
          class="group/item flex items-center justify-between px-4 py-2 text-sm cursor-pointer 
                 hover:bg-[#2a2a2a] rounded transition-all duration-200"
          (click)="onLogout()">
          <span class="group-hover/item:translate-x-2 transition-all duration-200">Log out</span>
          <span class="opacity-0 group-hover/item:opacity-100 transition-opacity duration-200">→</span>
        </span>

        <span *ngIf="!isLoggedIn"
          class="group/item flex items-center justify-between px-4 py-2 text-sm cursor-pointer 
                 hover:bg-[#2a2a2a] rounded transition-all duration-200"
          routerLink="/sign-in" (click)="onLogin()">
          <span class="group-hover/item:translate-x-2 transition-all duration-200">Log in</span>
          <span class="opacity-0 group-hover/item:opacity-100 transition-opacity duration-200">→</span>
        </span>
      </div>
    </div>
  </div>
</header>

<!-- Main Content -->
<main>
  <router-outlet></router-outlet>
</main>
