<div
  class="fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6 animate-fade-in"
>
  <div
    class="absolute inset-0 bg-black/80 backdrop-blur-sm"
    (click)="onClose()"
  ></div>

  <div
    class="relative bg-[#1E1E1E] border border-[#3A3A3A] rounded-xl w-full max-w-xs shadow-xl animate-scale-in"
  >
    <button
      type="button"
      (click)="onClose()"
      aria-label="Close"
      class="absolute top-3 right-3 text-[#999999] hover:text-white transition-colors p-1"
    >
      <svg
        width="18"
        height="18"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <line x1="18" y1="6" x2="6" y2="18"></line>
        <line x1="6" y1="6" x2="18" y2="18"></line>
      </svg>
    </button>

    <div class="p-5">
      <header class="text-center mb-5">
        <h1 class="text-lg text-white mb-0.5 font-semibold">
          Reset Your Password
        </h1>
        <p class="text-xs text-[#999999]">
          Enter your email and weâ€™ll send you a link to reset your password.
        </p>
      </header>

      <form
        (ngSubmit)="onSubmit()"
        [formGroup]="forgotPasswordForm"
        class="space-y-4"
      >
        <div>
          <label for="reset-email" class="block text-xs text-[#B3B3B3] mb-1.5">
            Email Address
          </label>
          <input
            id="reset-email"
            type="email"
            formControlName="email"
            placeholder="e.g. your@email.com"
            autocomplete="email"
            class="w-full bg-[#2A2A2A] border border-[#3A3A3A] rounded-lg px-3 py-2 text-sm text-white placeholder-[#666666] focus:outline-none focus:border-[#10A37F] focus:ring-2 focus:ring-[#10A37F]/40 transition-all"
            required
          />
        </div>

        <button
          type="submit"
          [disabled]="forgotPasswordForm.invalid || isLoading"
          class="w-full rounded-lg bg-[#10A37F] px-4 py-2.5 text-sm font-semibold text-white transition-all hover:bg-[#0D8A6B] active:scale-[0.99] disabled:cursor-not-allowed disabled:bg-[#334A42]"
        >
          <ng-container *ngIf="!isLoading">Send Reset Link</ng-container>
          <ng-container *ngIf="isLoading">Sending...</ng-container>
        </button>

        <p class="mt-4 text-center text-xs text-[#999999]">
          Remembered your password?
          <a
            (click)="router.navigate([{ outlets: { modal: ['sign-up'] } }])"
            class="text-[#10A37F] font-semibold hover:text-[#1AA97D] hover:underline cursor-pointer transition"
          >
            Sign in
          </a>
        </p>

        <p
          *ngIf="message"
          [class.text-red-500]="isError"
          [class.text-green-500]="!isError"
          class="text-xs text-center mt-2"
        >
          {{ message }}
        </p>
      </form>
    </div>
  </div>
</div>
